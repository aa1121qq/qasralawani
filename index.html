<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>متجر الكتروني بسيط</title>
  <style>
    body { font-family: Tahoma, Arial; background: #f6f8fb; margin: 0; }
    .popup-bg { position:fixed; inset:0; background:#0005; display:flex; align-items:center; justify-content:center; z-index:10;}
    .popup { background:#fff; padding:2em 1.5em; border-radius:16px; box-shadow:0 2px 12px #0003; min-width:250px; text-align:center; }
    .products { display: grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap: 2em; margin: 2em; }
    .card { background: #fff; border-radius: 18px; box-shadow: 0 1px 8px #0002; padding: 1em; display: flex; flex-direction: column; align-items: center; position: relative; }
    .card img { width: 120px; height: 120px; object-fit: contain; border-radius:12px; }
    .card .fast { position:absolute; top:14px; left:14px; background:#28d47b; color:#fff; padding: 3px 10px; border-radius:12px; font-size: 0.88em; }
    .card .unavailable { opacity:0.45; filter: grayscale(1); }
    .add-btn { margin-top:8px; padding: 6px 20px; background: #076aff; color:#fff; border:none; border-radius: 10px; cursor:pointer; font-size: 1em; }
    .add-btn:disabled { background:#bbb; cursor:not-allowed; }
    h1 { text-align:center; color:#333 }
  </style>
</head>
<body>
  <h1>متجر الأدوات المنزلية</h1>
  
  <!-- البوب أب -->
  <div id="popup" class="popup-bg">
    <div class="popup">
      <h2>حدد موقعك</h2>
      <select id="citySelect">
        <option value="الرياض">الرياض</option>
      </select>
      <br><br>
      <select id="areaSelect">
        <option value="حي السويدي">حي السويدي</option>
      </select>
      <br><br>
      <button onclick="chooseLocation()">اختيار</button>
      <button onclick="skipLocation()" style="background:#eee;color:#444;margin-right:10px">تخطي</button>
    </div>
  </div>
  
  <!-- قائمة المنتجات -->
  <div class="products" id="productsList"></div>

  <script>
    // بيانات المنتجات (مأخوذة من ملفك)
    const products = [
      {
        title: "طقم اكواب شاي",
        img: "https://imgs.qasralawani.net/media/catalog/product/8/1/8105-27.jpg",
        price: 18,
        suwaidi: "متوفر",
        store: "غير متوفر"
      },
      {
        title: "قدر ضغط السيف استيل 5 لتر",
        img: "https://imgs.qasralawani.net/media/catalog/product/9/0/9002-5sl.jpg",
        price: 159,
        suwaidi: "متوفر",
        store: "غر متوفر"
      },
      {
        title: "حافظة طعام إستيل 5 لتر",
        img: "https://imgs.qasralawani.net/media/catalog/product/b/1/b18hp2-50g.jpg",
        price: 359,
        suwaidi: "غير متوفر",
        store: "متوفر"
      },
      {
        title: "حافظة طعام إستيل 2 لتر",
        img: "https://imgs.qasralawani.net/media/catalog/product/b/1/b18hp3-20g.jpg",
        price: 249,
        suwaidi: "غير متوفر",
        store: "متوفر"
      }
    ];
    
    let mode = null; // "suwaidi" | "skip"
    
    function chooseLocation() {
      mode = "suwaidi";
      document.getElementById('popup').style.display = 'none';
      showProducts();
    }
    function skipLocation() {
      mode = "skip";
      document.getElementById('popup').style.display = 'none';
      showProducts();
    }

    function showProducts() {
      const list = document.getElementById('productsList');
      list.innerHTML = '';
      products.forEach(product => {
        // وضع المنطق حسب اختيار الموقع
        let available = false, fast = false, disableBtn = false;
        if (mode === "suwaidi") {
          if (product.suwaidi.trim() === "متوفر") {
            available = true;
            fast = true; // تاق شحن سريع
          } else if (product.store.trim() === "متوفر") {
            available = true;
            fast = false;
          } else {
            available = false;
            disableBtn = true;
          }
        } else if (mode === "skip") {
          if (product.store.trim() === "متوفر") {
            available = true;
            fast = false;
          } else {
            available = false;
            disableBtn = true;
          }
        }
        
        list.innerHTML += `
          <div class="card${!available ? " unavailable" : ""}">
            ${fast ? `<div class="fast">شحن سريع</div>` : ""}
            <img src="${product.img}" alt="${product.title}">
            <h3>${product.title}</h3>
            <div style="margin:6px 0 12px 0; font-weight:bold">${product.price} ريال</div>
            <button class="add-btn" ${disableBtn ? "disabled" : ""}>${available ? "أضف للسلة" : "غير متوفر"}</button>
          </div>
        `;
      });
    }
  </script>
</body>
</html>
